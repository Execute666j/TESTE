-- Carregar a biblioteca Fluent e addons necessários
local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()

-- Criar a janela principal Fluent
local Window = Fluent:CreateWindow({
    Title = "Mac Hub - Fluent",
    SubTitle = "by dawid",
    TabWidth = 160,
    Size = UDim2.fromOffset(580, 460),
    Acrylic = true,
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.LeftControl
})

-- Criar as abas principais
local Tabs = {
    Main = Window:AddTab({ Title = "Main" }),
    Teleport = Window:AddTab({ Title = "Teleporte" }),
    ESP = Window:AddTab({ Title = "ESP" }),
    Inventory = Window:AddTab({ Title = "Inventário" }),
    Kill = Window:AddTab({ Title = "Kill" }),
    Flight = Window:AddTab({ Title = "Fly" }),
    Settings = Window:AddTab({ Title = "Settings" })
}

-- Variável para armazenar jogador selecionado
local selectedPlayer = nil

-- Função para listar jogadores
local function ListPlayers()
    for _, player in pairs(game.Players:GetPlayers()) do
        Tabs.Main:AddButton({
            Title = player.Name,
            Description = "Selecionar jogador",
            Callback = function()
                selectedPlayer = player
                print("Jogador selecionado: " .. player.Name)
            end
        })
    end
end

-- Listar jogadores ao carregar o script
ListPlayers()

-- Botão Teleporte para o jogador selecionado
Tabs.Teleport:AddButton({
    Title = "Teleportar",
    Callback = function()
        if selectedPlayer and selectedPlayer.Character and selectedPlayer.Character:FindFirstChild("HumanoidRootPart") then
            local localPlayer = game.Players.LocalPlayer
            if localPlayer.Character and localPlayer.Character:FindFirstChild("HumanoidRootPart") then
                localPlayer.Character.HumanoidRootPart.CFrame = selectedPlayer.Character.HumanoidRootPart.CFrame
                print("Teleportado para o jogador selecionado")
            end
        end
    end
})

-- Botão Flingar com Auto Teleporte
Tabs.Teleport:AddButton({
    Title = "Flingar",
    Callback = function()
        if selectedPlayer then
            local localPlayer = game.Players.LocalPlayer

            -- Teleporta automaticamente ao jogador selecionado
            if selectedPlayer.Character and selectedPlayer.Character:FindFirstChild("HumanoidRootPart") then
                localPlayer.Character.HumanoidRootPart.CFrame = selectedPlayer.Character.HumanoidRootPart.CFrame
                print("Teleportado automaticamente para o jogador selecionado antes de Flingar")

                -- Executa o comando de Flingar
                loadstring(game:HttpGet("https://raw.githubusercontent.com/Execute666j/TESTE/refs/heads/main/FlingAtivar"))()
            end
        else
            print("Nenhum jogador selecionado")
        end
    end
})

-- Botão ESP
Tabs.ESP:AddButton({
    Title = "Ativar ESP",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Execute666j/TESTE/refs/heads/main/ESP"))()
    end
})

-- Botão Kill
Tabs.Kill:AddButton({
    Title = "Kill",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Execute666j/TESTE/refs/heads/main/Kill"))()
    end
})

-- Botão Teleporte para o sofá
Tabs.Teleport:AddButton({
    Title = "Pegar Sofá",
    Callback = function()
        local localPlayer = game.Players.LocalPlayer
        if localPlayer.Character and localPlayer.Character:FindFirstChild("HumanoidRootPart") then
            localPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-86.366, 19.110, -129.395)
            print("Teleportado para o sofá")
        end
    end
})

-- Gerenciamento de inventário
Tabs.Inventory:AddButton({
    Title = "Pegar Todos os Itens",
    Callback = function()
        local player = game.Players.LocalPlayer
        local backpack = player.Backpack
        for _, item in pairs(backpack:GetChildren()) do
            item.Parent = player.Character
        end
        print("Itens movidos para o personagem")
    end
})

-- Botão Fly
Tabs.Flight:AddButton({
    Title = "Ativar Fly",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Execute666j/TESTE/refs/heads/main/Fly"))()
        print("Fly ativado")
    end
})

-- Configurar SaveManager e InterfaceManager
SaveManager:SetLibrary(Fluent)
InterfaceManager:SetLibrary(Fluent)

SaveManager:SetFolder("FluentScriptHub")
InterfaceManager:SetFolder("FluentScriptHub/specific-game")

InterfaceManager:BuildInterfaceSection(Tabs.Settings)
SaveManager:BuildConfigSection(Tabs.Settings)

SaveManager:LoadAutoloadConfig()

-- Notificar o usuário
Fluent:Notify({
    Title = "Fluent",
    Content = "O script foi carregado corretamente.",
    Duration = 8
})
